<!doctype html>
<html lang="en">
  <head>
	<!-- esto es un comentario HTML -->
	<!-- archivo CSS con los estilos propios de OpenLayers (href con ruta relativa) -->
    <link rel="stylesheet" href="ol3/css/ol.css" type="text/css">
    
    <!-- estilos CSS definidos dentro del documento -->
    <style>
    /* comentario en CSS */
    
    /* selector CSS #map: selecciona cualquier elemento con id="map" */
      #map {
        height: 400px;	/* alto del elemento = 400px */
        width: 100%;	/* ancho del elemento = 100% de su elemento contenedor */
      }
    </style>
    <!-- Titulo de la paginan -->
    <title>OpenLayers 3 example</title>
    <!-- tag script que incluye el archivo .js que contiene la libreria -->
    <script src="ol3/build/ol.js" type="text/javascript"></script>
  </head>
  
  <body>
    
    <!-- tag H1 con un texto -->
    <h1>My Map</h1>
    
    <!-- DIV que contiene el mapa -->
    <div id="map"></div>
    
    <!-- SCRIPT que crea el mapa y sus capas -->
    <script type="text/javascript">
    //diccionario de capas
      var capas = new Array();
      capas[1]='Red_Vial';
      capas[2]='veg_Hidrofila';
      capas[3]='Veg_Arborea';
    //funcion que devuelve un arreglo de capas  
      function listarcapas(){
        var i = 1; 
        var capa = new ol.layer.Tile({
            title: "Global Imagery",
            source: new ol.source.TileWMS({
              url: 'http://maps.opengeo.org/geowebcache/service/wms',
              params: { 
              LAYERS: 'bluemarble',
              VERSION: '1.1.1'
        }
            })
          })

        var layer = new Array();
        layer[0] = capa;

        for (i=1;i<=3;i++) {
          var capa = new ol.layer.Image({  
            title: capas[i],
            source: new ol.source.ImageWMS({
            url: '/cgi-bin/qgis_mapserv.fcgi?map=/home/user/proyectoqgislaboratorioqgisserver.qgs',
            params: {LAYERS: capas[i]}
            })
          })
          
      layer[i] = capa;
        
      }
      return layer;
    }
	// definicion del mapa 
      
      var map = new ol.Map({
        target: 'map', 
        layers: listarcapas() ,
        view: new ol.View({
          projection: 'EPSG:4326',
          center: [-59, -27.5],
          zoom: 4
        })
      });
    </script>
  </body>
</html>